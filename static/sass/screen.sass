// Imports
@import "compass/reset"
@import "compass/css3/images"
@import "compass/css3/user-interface"
@import "susy"
@import "compass"


// Variables 
$total-columns        : 12
$column-width         : 9em
$gutter-width         : 2em
$grid-padding         : $gutter-width

$main-link-color      : #00a1d9

$main-dark-color      : #34495e
$main-light-color     : #51bf98
$sub-dark-color       : #929292
$error-color          : #c53730

$bg-color             : #f8cf79 
$border-color         : #dee1e3

$icons                : sprite-map("icons/*.png", $layout: smart)
$icons-hd             : sprite-map("icons-hd/*.png")
$default-border-radius: 5px


// Mixins
+border-box-sizing


// Icons
i
    background: $icons
    display: inline-block
    @media (-webkit-min-device-pixel-ratio: 1.5), (min-resolution: 144dpi)
        background: $icons-hd
        +background-size(image-width(sprite-path($icons)) auto)
@each $icon in sprite_names($icons)
    .icn-#{$icon}
        +sprite-dimensions($icons, $icon)
        background-position: sprite-position($icons, $icon)
        @media (-webkit-min-device-pixel-ratio: 1.5), (min-resolution: 144dpi)
            $offset: nth(sprite-position($icons-hd, $icon), 2) / 2
            background-position: 0 $offset
    

// Custom fonts
@font-face 
    font-family: 'Rublsign'
    src: url('/static/fonts/Rublsign.eot')
    src: url('/static/fonts/Rublsign.eot?#iefix') format('embedded-opentype'), url('/static/fonts/Rublsign.woff') format('woff'), url('/static/fonts/Rublsign.ttf') format('truetype'), url('/static/fonts/Rublsign.svg#gotham_probold') format('svg')
    font-weight: normal
    font-style: normal


// Grids
body 
    font-family: "Myriad Pro", sans-serif
    -webkit-text-size-adjust: 100%
    color: $main-dark-color
    background: $bg-color
.grid-container
    +container($total-columns)
    +pad(0,0)
    background-color: white
    width: 64em
    padding: 0 2.5em
.one-fourth
    +span-columns(3)
.one-third
    +span-columns(4)
.two-fourth, .one-half
    +span-columns(6)
.three-fourth
    +span-columns(9)
.omega
    +omega


// Text styles   
a 
    +link-colors($main-link-color, adjust-lightness($main-link-color, -15%))
    text-decoration: none
    &.action-link
        border-bottom-style: dashed
.sub-dark-color
    color: $sub-dark-color
.font-like-link
    color: $main-dark-color
    &:hover
        color: adjust-lightness($main-link-color, -15%)
.rub
    font-family: 'Rublsign'
.bold-font
    font-weight: 600
.italic
    font-style: italic
.header
    font-size: 1.4em
    @extend .bold-font
    display: inline-block
    margin-top: .8em
    margin-bottom: .3em
.sub-header
    font-size: 1em
    @extend .bold-font
    display: inline-block
    margin-top: .8em
    margin-bottom: .3em
.phone-number
    font-size: 1.25em
    @extend .sub-header
    margin-top: .45em
    margin-bottom: .15em
    a
        color: $main-dark-color
.list
    > li
        font-size: .875em
        line-height: 1.2em
        display: block
        margin-top: .3em
        position: relative
        > a
            display: inline-block
.dash-list
    @extend .list
    > li
        padding-left: 1em
        &:before
            content: 'â€“ '
            position: absolute
            left: 0
        &.selected
            &:before
                content: ' '
                @extend i
                @extend .icn-small-star
                top: .25em
            > a
                color: $sub-dark-color
p
    font-size: .875em
    line-height: 1.2em
    display: block
    margin-top: .5em
    position: relative
.breadcrumbs
    font-size: .875em
    color: $sub-dark-color
    margin-bottom: -.9em
    > a
        @extend .font-like-link
        &:after
            content: ' / '
            color: $sub-dark-color
.epty-cart-message
    font-size: 1.3em
    color: $sub-dark-color
    display: block
    margin-top: .5em


// Text page
.text-holder
    margin-top: 1.5em
    h1
        font-size: 2.5em
        @extend .bold-font
        display: block
        margin-top: .8em
        margin-bottom: .4em
    h2
        font-size: 1.6em
        @extend .bold-font
        display: block
        margin-top: 1.2em
        margin-bottom: .5em
    p
        font-size: 1em
        line-height: 1.4em
    ul
        @extend .dash-list
        > li
            font-size: 1em
            line-height: 1.4em
            margin-top: .5em
    strong
        @extend .bold-font
    em
        @extend .italic
    .picture
    .left
        float: left
        margin-right: 1.5em
    .right
        float: right
        margin-left: 1.5em
    img
        max-width: 100%
    .caption
        font-size: .8em
        color: $sub-dark-color
        display: block


// Forms
.form-holder
    padding-bottom: 2em
.field
    +prefix(3)
    margin-top: .5em
    position: relative
    .text-input
        min-width: 21em   
    &.with-border
        margin-bottom: .8em
        padding-bottom: .8em 
.field-label
    font-style: italic
    +span-columns(3)
    display: inline-block
    position: absolute
    top: .7em
    left: 0
.radio-holder
    padding-top: .6em
    padding-bottom: .5em
    label
        margin-right: 1em
.text-input
    font-family: "Myriad Pro", sans-serif
    font-size: 1em
    color: $main-dark-color
    padding: .4em .5em .2em
    display: inline-block
    border: solid 2px $border-color
    +border-radius
    outline: none
    &:focus
        border-color: $main-light-color
    &.error
        background: #fbc5bb
        border-color: $error-color
.qt-input
    text-align: center
    width: 2em
    padding-right: .2em
    padding-left: .2em
.text-area
    @extend .text-input
    min-height: 5em
    resize: vertical
.field-caption
    font-size: .8em
    display: block
    margin-top: .3em
    &.error
        color: $error-color
.btn-holder
    margin-top: 1.5em
    .medium-btn
        margin-right: .8em


// Buttons
.medium-btn
    display: inline-block
    padding: .4em 1em .2em
    border: solid 2px transparent
    +border-radius
.big-btn
    @extend .medium-btn
    font-size: 1.2em
    padding: .4em .8em .4em
.green-btn
    color: white
    background: $main-light-color
    border-color: $main-light-color
    &:hover
        color: white
        background: adjust-lightness($main-light-color, -2%)
    &:active
        background: adjust-lightness($main-light-color, -8%)
.blue-btn
    color: white
    background: $main-link-color
    border-color: $main-link-color
    &:hover
        color: white
        background: adjust-lightness($main-link-color, -2%)
    &:active
        background: adjust-lightness($main-link-color, -8%)


// Header and footer
.main-header
    padding: 1.2em 0
.contacts-holder
    i
        margin-right: .3em
        margin-bottom: -.15em
.login-holder
    > a
        margin-left: .7em
.mini-cart-holder
    margin-top: .35em
    i
        margin-right: .3em
.main-footer
    background: $main-light-color
    margin: 1.5em -2.5em 0
    padding: .7em 2.5em
    +box-shadow(adjust-lightness($main-light-color, -15%) 0 3px 0 -2px, adjust-lightness($main-light-color, -13%) 0 6px 0 -4px, adjust-lightness($main-light-color, -10%) 0 8px 0 -6px, adjust-lightness($main-light-color, -5%) 0 10px 0 -7px)


// Navigation and search
.main-nav-holder
    background: #eef1f2
    margin: 0 -3em
    padding: 1.5em 3em 1em
    position: relative
    &:before
        content: ''
        width: 0px
        height: 0px
        border-style: solid
        border-width: 0 8px 11px 0
        border-color: transparent $sub-dark-color  transparent transparent
        position: absolute
        bottom: -11px
        left: 0
    &:after
        content: ''
        width: 0px
        height: 0px
        border-style: solid
        border-width: 0 0 11px 8px
        border-color: transparent transparent transparent $sub-dark-color
        position: absolute
        bottom: -11px
        right: 0
.logo
    position: relative
    top: .2em
.main-nav
    padding-bottom: .2em
    > a
        margin-right: 1em
        &.selected
            @extend .bold-font
            color: $main-dark-color
            pointer-events: none
.search-holder
    position: relative
    i
        position: absolute
        top: .6em
        left: .7em
        z-index: 2
        +opacity(.8)
.main-search-input
    width: 37.5em
    margin-right: .5em
    padding-left: 2.3em
.sub-nav
    +span-columns(2.5)
    margin-top: .65em
    padding-bottom: .8em
    border: solid 1px $border-color
    border-left-color: transparent
    +border-right-radius
    .selected
        color: $sub-dark-color
        pointer-events: none
        &:before
            content: ' '
            @extend i
            @extend .icn-small-star
            position: absolute
            top: .25em
            left: -.8em


// Banners
.main-banners-holder
    padding-top: 2em
.main-banner
    background-color: $border-color
    background-position: left top
    display: block
    width: 300px
    height: 200px
    border: solid 3px $main-light-color
    +border-radius(15px)
    &:hover
        border-color: adjust-lightness($main-light-color, -8%)


// Catalog table
.catalog-table
    padding-top: .9em
.sub-menu
    color: $sub-dark-color
    padding-top: .6em
.catalog-table-row
    padding-top: .6em


// Slider
.slider
    margin-top: 2em
    padding-top: 1.4em
    border: solid 1px $bg-color
    +border-radius
    position: relative
.slider-title
    background: white
    padding: .5em 1em
    position: absolute
    top: -1em
    left: 3em
.icn-slider-left-arrow
    margin-top: -12px
    position: absolute
    top: 50%
    left: -12px
    cursor: pointer
.icn-slider-right-arrow
    @extend .icn-slider-left-arrow
    left: auto
    right: -12px
.slider-holder
    overflow: hidden
.slide
    padding-bottom: .8em
.pagination
    text-align: center
    display: block
    margin-top: 1.5em
    margin-bottom: 2.5em
    > li
        display: inline-block
        margin: 0 .1em
        a
            display: inline-block
            padding: .35em .5em .2em
            +border-radius(20px)
        .selected
            color: white
            background: $main-light-color


// Items catalog
.catalog-items-holder
    margin-top: 3.5em
    .slider-title
        font-size: 1.5em
.product-mini-holder
    text-align: center
    padding: .5em 1em
    @extend .one-fourth
    +nth-omega(3n+1)
.product-mini-photo
    width: 140px
    height: 140px
.product-mini-name
    display: block
    margin-top: .5em
    > a
        font-size: .95em
        display: inline-block
.product-mini-price
    text-align: center
    display: block
    margin-top: .3em


// Product
.product-holder
    padding-top: 2em
.product-breadcrumbs
    @extend .breadcrumbs
    margin-bottom: -.4em
.product-id
    font-size: .9em
    color: $sub-dark-color
    display: block
    margin-top: -.2em
.product-details
    width: 22em
    margin-top: 1em
.product-details-line
    @extend .group
    width: 100%
    margin-top: .1em
.product-details-label
    float: left
    width: 11em
    padding-right: 1.5em
    position: relative
    &:after
        content: ''
        background: $border-color
        height: 1px
        position: absolute
        top: .8em
        right: 0
        left: 0
        z-index: 1
    > span
        font-size: .875em
        line-height: 1.2em
        word-wrap: break-word
        background: white
        display: inline-block
        max-width: 100%
        padding-right: .1em
        position: relative
        z-index: 2
.product-details-value
    float: left
    width: 11em
    > span
        font-size: .875em
        line-height: 1.2em
        word-wrap: break-word
        display: inline-block
        max-width: 100%
        padding-left: .1em
.buy-btn-holder
    width: 22em
    margin-top: 1.8em
    .icn-cart-white
        margin-bottom: -.25em
        margin-left: .3em
.product-availability
    font-size: .8em
    color: $sub-dark-color
    display: inline-block
    margin-top: 1em
    > i
        margin-bottom: -.3em
        margin-right: .5em
        +opacity(.7)
.active-product-photo
    background-position: center top
    background-repeat: no-repeat
    +background-size(cover)
    width: 400px
    height: 400px
    border: solid 1px $border-color
.product-photos-thumbnails
    li
        background-position: center top
        background-repeat: no-repeat
        +background-size(cover)
        display: block
        float: left
        width: 72px
        height: 72px
        margin-top: .5em
        margin-right: 10px
        border: solid 1px $border-color
        position: relative
        +opacity(.6)
        cursor: pointer
        &:hover
            border-color: $main-light-color
            +opacity(1)
        &.active
            border-color: $main-light-color
            +opacity(1)
            &:before
                content: ''
                @extend i
                @extend .icn-check-2-green
                margin-top: -20px
                margin-left: -20px
                position: absolute
                top: 50%
                left: 50%
                z-index: 3
                +opacity(.8)
            &:after
                content: ''
                background-color: rgba(black,.45)
                position: absolute
                top: 0
                right: 0
                bottom: 0
                left: 0
                z-index: 2


// SEO text
.seo-text-holder
    margin-top: 1.5em


// Personal cabinet
.cabinet-holder
    min-height: 15em
    margin-top: 1em
.order-history-table
    font-size: .875em
    width: 100%
    td, th
        padding: .3em .6em .3em 0
    th
        font-weight: bold
    .cancelled
        font-style: italic
        +opacity(.3)
    .order-history-price
        text-align: right
        white-space: nowrap
        padding-right: 5em
    .product-id
        font-size: .8em
        margin-top: .2em
.order-detail-table
    font-size: .875em
    td, th
        padding: .3em .6em .3em 0
    .product-id
        font-size: .8em
        margin-top: .2em
.order-detail-label
    color: $sub-dark-color
    margin-right: .5em


// Cart
.have-account-link
    float: right
    margin-top: 1.4em
.order-cart-table
    @extend .order-history-table
    margin-top: 1em
    img
        max-width: 50px
    .product-id
        font-size: .8em
        margin-top: .2em
    td
        border-bottom: solid 1px $border-color
    .total-row
        border-top: solid 4px $border-color
        td
            font-weight: bold
            padding-top: 1em
            border-bottom: solid 1px transparent
.del-item
    color: $error-color
    +opacity(.3)
    cursor: pointer
    &:hover
        +opacity(1)


// Popups
.popup-container
    background-color: rgba(black,.5)
    width: 100%
    height: 100%
    overflow: auto
    position: fixed
    top: 0
    left: 0
    z-index: 15
    +opacity(0)
    pointer-events: none
    +transition(opacity 180ms ease-in-out 1ms)
    z-index: -1\9 // IE fix
    &.showing
        z-index: 15
        pointer-events: auto
        +opacity(100)
        filter: none\9 //IE fix
x:-o-prefocus, .popup-container // Opera fix
    z-index: -1
.popup-holder
    width: 500px
    margin-left: -250px
    padding: 80px 0 50px
    position: absolute
    left: 50%
    z-index: 20
    +translateY(-30px)
    +transition(transform 300ms ease-in-out 1ms)
    .showing &
        +translateY(0)
.popup-text-holder
    background: white
    padding: 1em 2em
    +border-radius
    +box-shadow(rgba(black,.3) 0 2px 5px)
    position: relative
    .field
        padding-left: 0
        .text-input, .text-area
            width: 100%
    label
        +reset-columns
        margin-bottom: 1em
        position: relative
.popup-form-holder
    padding-bottom: 1em
.hide-popup
    position: absolute
    top: 2.25em
    right: 2em
    cursor: pointer
    +opacity(.6)
    &:hover
        +opacity(1)
   
        



// Fix
%group, .group
    &:after
        content: ''
        display: table
        clear: both
.big-hor-splitter
    background: $border-color
    width: 100%
    height: 1px
    margin-top: 1.5em
.no-flick
    +translate3d(0,0,0)
.centered
    margin: 0 auto
    position: relative
.align-center
    text-align: center
.align-right
    text-align: right
.hide
    display: none !important
.ie-nth-child
    float: right\9 !important
    margin-right: 0\9 !important
.disabled
    background: $border-color
    border-color: $border-color
    +opacity(.9)
    pointer-events: none


